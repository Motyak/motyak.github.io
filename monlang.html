<script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">

<style>
    video {
        border-radius: 15px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.6);
        margin: 20px;
    }
</style>

<div class="flex h-screen justify-end items-center">
    <video hidden width="1600" height="900" autoplay loop muted>
        <source src="900p_v2.mp4" type="video/mp4">
    </video>
</div>

<div class="flex h-screen justify-center items-center">
    <video hidden width="1920" height="1080" autoplay loop muted>
        <source src="1080p_v2.mp4" type="video/mp4">
    </video>
</div>

<script>
    $(document).ready(() => {
        /* perpetually add event listener for device pixel ratio */
        {
            let removeOld = null
            const bypassDevicePixelRatio = () => {
                removeOld?.()
                let media = matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`)
                media.addEventListener("change", bypassDevicePixelRatio)
                removeOld = () => media.removeEventListener("change", bypassDevicePixelRatio)

                $("video").each((_index, video) => {
                    $(video)
                        .show()
                        .width(`${$(video).attr("width") / window.devicePixelRatio}`)
                        .height(`${$(video).attr("height") / window.devicePixelRatio}`)
                })
            }
            bypassDevicePixelRatio()
        }
    })
</script>
